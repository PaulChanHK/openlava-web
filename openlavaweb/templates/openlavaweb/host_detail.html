{% extends "openlavaweb/base.html" %}
{% block content %}
<h1>Host: {{ host.host_name }}</h1>

<dl class="dl-horizontal">
	<dt>Status</dt><dd>{% for status in host.status %}<span title="{{ status.description }}">{{ status.friendly }}</span> {% endfor %}</dd>
	<dt>Host Type</dt><dd>{{ host.host_type }}</dd>
	<dt>Host Model</dt><dd>{{ host.host_model }}</dd>
	{% if host.cluster_type == "openlava" %}
	<dt>Compute Type</dt><dd>{% if host.is_server %}Server{% else %}Submission Host{% endif %}</dd>
	<dt>CPU Factor</dt><dd>{{ host.cpu_factor }}</dd>
	<dt>Checkpoint Support</dt><dd>{% if host.has_checkpoint_support %}Yes{% else %}No{% endif %}</dd>
	<dt>Kernel Checkpoint Copy Support</dt><dd>{% if host.has_kernel_checkpoint_support %}Yes{% else %}No{% endif %}</dd>
	{% endif %}
	<dt>Max Processors</dt><dd>{{ host.max_processors }} Processors</dd>
	<dt>Max Ram</dt><dd>{{ host.max_ram }}MB</dd>
	<dt>Max Swap</dt><dd>{{ host.max_swap }}MB</dd>
	<dt>Max Temp Space</dt><dd> {{ host.max_tmp }}MB</dd>
	{% if host.cluster_type == "openlava" %}
	<dt>Number of Disks</dt><dd>{{ host.num_disks }} Disks</dd>
	{% endif %}
</dl>

<h1>Utilization</h1>
<table class="table table-striped table-condensed">
	<thead>
		<tr>
			<td>&nbsp;</td>
			<th>Max</th>
			<th>Total</th>
			<th>Running</th>
			<th>Suspended</th>
			{% if host.cluster_type == "openlava" %}
			<th>System Suspended</th>
			<th>User Suspended</th>
			{% endif %}
			<th>Reserved</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<th>Jobs</th>
			<td>{{ host.max_jobs }}</td>
			<td>{{ host.total_jobs }}</td>
			<td>{{ host.num_running_jobs }}</td>
			<td>{{ host.num_suspended_jobs }}</td>
			{% if host.cluster_type == "openlava" %}
			<td>{{ host.num_system_suspended_jobs }}</td>
			<td>{{ host.num_user_suspended_jobs }}</td>
			{% endif %}
			<td>N/A</td>
		</tr>
		<tr>
			<th>Slots</th>
			<td>{{ host.max_slots }}</td>
			<td>{{ host.total_slots }}</td>
			<td>{{ host.num_running_slots }}</td>
			<td>{{ host.num_suspended_slots }}</td>
			{% if host.cluster_type == "openlava" %}
			<td>{{ host.num_system_suspended_slots }}</td>
			<td>{{ host.num_user_suspended_slots }}</td>
			{% endif %}
			<td>{{ host.num_reserved_slots|default_if_none:"Not Applicable" }}</td>
		</tr>
	</tbody>
</table>
<h1>Load Information</h1>
<table class="table table-striped table-condensed">
	<thead>
		<tr>
			<th>&nbsp;</th>
			{% for name in host.load_information.names %}
			<th>{{ name }}</th>
			{% endfor %}
		</tr>
	</thead>
	<tbody>
		{% for index in host.load_information.values %}
		<tr>
			<th>{{ index.name }}</th>
			{% for value in index.values %}
			<td>{% if host.cluster_type == "openlava" %}{{ value|floatformat:2 }}{% else %}{{value}}{% endif %}</td>
			{% endfor %}
		</tr>
		{% endfor %}
	</tbody>
</table>

<h1>Resources</h1>
{% include "openlavaweb/widgets/resource_list.html" with resource_list=host.resources%}


<h1>Jobs</h1>
{% include "openlavaweb/widgets/job_list.html" with job_list=host.jobs%}
{% endblock %}
